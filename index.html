<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <!-- Include Chart.js for graphs -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Include jQuery for simplicity -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Include Slick Carousel CSS and JS -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
  <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f4f4f4;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .login-form, .dashboard {
      display: none;
    }
    .dashboard {
      margin-top: 20px;
    }
    .slider {
      width: 80%;
      margin: 20px auto;
    }
    .slider img {
      width: 100%;
      height: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 10px;
      text-align: center;
    }
    .graph-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin: 20px 0;
    }
    .graph-container canvas {
      width: 45%;
      height: 200px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Login Form -->
    <div id="loginForm" class="login-form">
      <h2>Admin Login</h2>
      <form onsubmit="event.preventDefault(); login();">
        <input type="text" id="username" placeholder="Username" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit">Login</button>
      </form>
    </div>

    <!-- Dashboard (Visible after login) -->
    <div id="dashboard" class="dashboard">
      <h2>Admin Dashboard</h2>

      <!-- Image Slider -->
      <div class="slider">
        <img src="https://via.placeholder.com/800x400?text=Image+1" alt="Image 1">
        <img src="https://via.placeholder.com/800x400?text=Image+2" alt="Image 2">
      </div>

      <!-- Add Partner Form -->
      <h3>Add Partner</h3>
      <form onsubmit="event.preventDefault(); addPartner();">
        <input type="text" id="partnerName" placeholder="Partner Name" required>
        <button type="submit">Add Partner</button>
      </form>

      <!-- Table for Data -->
      <h3>Registration Data</h3>
      <table id="dataTable">
        <thead>
          <tr>
            <th>Date</th>
            <th>Partner 1</th>
            <th>Partner 2</th>
            <th>Total Registered</th>
          </tr>
        </thead>
        <tbody>
          <!-- Data will be populated dynamically -->
        </tbody>
      </table>

      <!-- Graphs -->
      <h3>Registration Graphs</h3>
      <div class="graph-container" id="graphContainer">
        <!-- Graphs will be populated dynamically -->
      </div>
    </div>
  </div>

  <script>
    // Mock data for demonstration
    let partners = [];
    let registrationData = [
      { date: '2025-02-01', partner1: 10, partner2: 15 },
      { date: '2025-02-02', partner1: 12, partner2: 18 },
      { date: '2025-02-03', partner1: 8, partner2: 20 },
    ];

    // Login function
    function login() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;

      // Mock authentication
      if (username === 'admin' && password === 'admin') {
        document.getElementById('loginForm').style.display = 'none';
        document.getElementById('dashboard').style.display = 'block';
        loadDashboard();
      } else {
        alert('Invalid credentials');
      }
    }

    // Load dashboard data
    function loadDashboard() {
      loadTable();
      loadGraphs();
      initializeSlider();
    }

    // Load table data
    function loadTable() {
      const tableBody = document.querySelector('#dataTable tbody');
      tableBody.innerHTML = '';
      registrationData.forEach(data => {
        const total = data.partner1 + data.partner2;
        const row = `
          <tr>
            <td>${data.date}</td>
            <td>${data.partner1}</td>
            <td>${data.partner2}</td>
            <td>${total}</td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }

    // Load graphs
    function loadGraphs() {
      const graphContainer = document.getElementById('graphContainer');
      graphContainer.innerHTML = '';
      registrationData.forEach((data, index) => {
        const canvas = document.createElement('canvas');
        canvas.id = `chart${index}`;
        graphContainer.appendChild(canvas);

        const ctx = canvas.getContext('2d');
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Partner 1', 'Partner 2'],
            datasets: [{
              label: `Registrations on ${data.date}`,
              data: [data.partner1, data.partner2],
              backgroundColor: ['#FF6384', '#36A2EB'],
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
          }
        });
      });
    }

    // Initialize image slider
    function initializeSlider() {
      $('.slider').slick({
        dots: true,
        infinite: true,
        speed: 300,
        slidesToShow: 1,
        adaptiveHeight: true,
      });
    }

    // Add partner
    function addPartner() {
      const partnerName = document.getElementById('partnerName').value;
      if (partnerName) {
        partners.push(partnerName);
        alert(`Partner "${partnerName}" added successfully!`);
        document.getElementById('partnerName').value = '';
      } else {
        alert('Please enter a partner name.');
      }
    }

    // Show login form by default
    document.getElementById('loginForm').style.display = 'block';
  </script>
</body>
</html>
